<!doctype html><html lang=en><meta charset=utf-8><title>Lesson 1 - Your first windows application - CTO AdTech, London</title><link href=//yui.yahooapis.com/pure/0.5.0/pure-min.css rel=stylesheet><link href=http://yui.yahooapis.com/pure/0.6.0/grids-responsive-min.css rel=stylesheet><link href=/stylesheet.css rel=stylesheet><link href="//fonts.googleapis.com/css?family=Merriweather:300,300italic,700" rel=stylesheet type=text/css><link href=//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css rel=stylesheet><script src=//ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js></script><meta content="nanoc 4.0.0" name=generator><meta content="width=device-width, initial-scale=1.0" name=viewport><body onload=prettyPrint()><div id=container><div class="pure-menu pure-menu-open pure-menu-horizontal" id=navbar><a class=pure-menu-heading href=/>Pravin Paratey</a><ul class=pure-menu-list><li class=pure-menu-item><a href=/posts>Archives</a><li class=pure-menu-item><a href=https://github.com/pravin>Github</a><li class=pure-menu-item><a href=/about>About</a></ul></div><div id=blurb>Hello, I am an Engineering Manager at Facebook with 12+ years in Ad Technology, Natural Language Processing and Data mining. (<a href=/about>Learn More</a>)</div><div class=pure-g><div class="pure-u-1 pure-u-md-3-4 pure-u-sm-1" id=content><div class=pad><div class=date><time pubdate>July 18, 2002</time> <span class=author>by Pravin Paratey</span></div><article><h1>Lesson 1 - Your first windows application</h1><h2 id=updates>Updates</h2><ol><li><b>November 20, 2010</b> - Updated code to Code::Blocks 10.05&lt;/li&gt;<li><b>July 18, 2008</b> - Moved to Code::Blocks&lt;/li&gt;<li><b>April 18, 2003</b> - Original version for Dev-C++&lt;/li&gt;</ol><p>Welcome to your first lesson. We will begin first by familiarizing ourselves with Code::Blocks, a C++ IDE that I will be using throughout this series of lessons. That done, you will create your first windows application which will display ‘Hello World!’ in a message box.<h2 id=setting-up-your-development-environment>Setting up your development environment</h2><p>I have chosen Code::Blocks as the IDE to base this tutorial on. Simply because it’s free and therefore accessible to all of you. All screenshots and references in this tutorial are with respect to Code::Blocks. However, you should be able to use any IDE and compiler you like. A few other free C++ IDEs are listed at the end of this section.<p>If you haven’t done so, <a href=http://www.codeblocks.org>download</a> and install Code::Blocks. That done, fire up Code::Blocks. I have set up my editor options (<code>Settings &gt; Editor</code>) to show me line numbers.<h2 id=diving-in>Diving In</h2><p>We are going to start with a blank project. Click <code>File &gt; New Project</code>. Select ‘Win32 GUI Project’ and hit <code>Go</code>. Call the project <em>DrawLite</em> and save it.</p> <center><img alt="Create new Project" src=/img/win32/1-1.png></center><p>A default <code>main.cpp</code> file will be created. Open it and replace the code to the one below:<pre class="prettyprint lang-c linenums">
/* DrawLite - Windows Programming Tutorial
 * by Pravin Paratey (March 08, 2007)
 * http://pravin.insanitybegins.com/win32
 *
 * Source released under Creative Commons Attribution 2.5 Licence
 * http://creativecommons.org/licenses/by/2.5/
 */

#include <windows.h>

int WINAPI
    WinMain(HINSTANCE hInst, HINSTANCE hPrev, LPSTR lpCmdLine, int nCmdShow)
{
    MessageBox(NULL, "Hello World! This is my first win32 program!",
        "Lesson1", MB_OK);

    return 0;
}


Press F9 to build and run the project. You should see:

<center><img alt="Your first windows program" src=/img/win32/1-4.png></center>

Congratulations! You have just written your first windows application.


## Whoa! What just happened there?
Lets break down the code.


#### `#include &lt;windows.h&gt;` 

All Windows programs must include the header file windows.h. This file has the function declarations of Windows system calls or the WinAPI. The WinAPI has everything necessary for programming under windows.

#### `WinMain (..)` 

This is the entry point of a windows application. This is like the main() of a console based application. WinMain is declared as,

<pre class="prettyprint lang-cpp">
int WINAPI WinMain(
HINSTANCE hInst,        /* Handle to the current instance */
HINSTANCE hPrevInstance,/* Handle to the previous instance */
LPSTR lpCmdLine,        /* pointer to command line arguments */
int nCmdShow);          /* show state of the window */
</pre>

The parameters of WinMain are self-explainatory, except perhaps nCmdShow. nCmdShow tells you in what manner you are expected to display this window (Maximized, Minimized, etc). We haven't used any of these parameters in this lesson, but we'll learn more about them in the coming lessons.

#### `MessageBox(..)`

This is a Windows function which displays a messagebox. The MessageBox function is declared as,
<pre class="prettyprint lang-cpp">
int MessageBox(
HWND hWnd,        /* Handle of owner window */
LPCTSTR lpText,   /* Address of text in message box */
LPCTSTR lpCaption,/* Address of title of message box */
UINT uType);      /* Style of message box */
</pre>


#### `return 0`

This is the return value to the system. 


<p>This brings us to the end of the first lesson. Go to <a href=/win32/lesson2 title="Lesson 2">Lesson 2</a>.</p>

<h3>List of a few free C++ IDEs</h3>
<dl>
<dt><a href=http://www.bloodshed.net/devcpp.html title=Dev-C++>Dev-C++</a><dd>
<b>Pros:</b> Winning reason - <a href=http://devpaks.org title="Dev-C++ community packs">devpaks.org</a>, opensource, supports multiple compilers <br>
<b>Cons:</b> Debugger is occasionally iffy
<dt><a href=http://msdn.microsoft.com/vstudio/express/visualc/default.aspx>Microsoft Visual C++ Express Edition</a><dd><b>Pros:</b> The only reason would be its *awesome* debugger that lets you do almost anything.<br>
<b>Cons:</b> The free version does not allow you to make stand-alone exe's. <a href=http://msdn.microsoft.com/vstudio/express/visualc/usingpsdk/ title="Using Platform SDK with Visual C++ Express Edition">This document</a> will help those who wish to circumvent that.
</dl>


- [Previous Lesson](/posts/win32-introduction)
- [Next Lesson](/posts/win32-lesson2)
</windows.h></pre></article></div></div><div class="pure-u-1 pure-u-md-1-4 pure-u-sm-1" id=sidebar><div class=pad><div class=share><div class=g-plusone></div></div><a name=contact></a><h3>Get in touch</h3><div style=text-align:center><a href=mailto:pravinp@gmail.com title="Email Pravin"><i class="fa fa-5x fa-envelope-o sc"></i></a> <br> <a href=/pravin_paratey.pub title="PGP public key"><i class="fa fa-key sc"></i></a> <a href=/pravin_paratey.asc title="RSA Fingerprint"><i class="fa fa-barcode sc"></i></a> <br> <a href=https://www.facebook.com/pravin.paratey title=Facebook><i class="fa fa-2x fa-facebook-square sc"></i></a> <a href=https://github.com/pravin title=Github><i class="fa fa-2x fa-github sc"></i></a> <a href=http://twitter.com/pravin title=@pravin><i class="fa fa-2x fa-twitter sc"></i></a> <a href=http://uk.linkedin.com/in/pravinp title="Linked In"><i class="fa fa-2x fa-linkedin sc"></i></a> <a href=https://www.medium.com/@pravin title=Medium><i class="fa fa-2x fa-medium sc"></i></a></div><h3>Advert</h3><div id=advert><script type=text/javascript>
              <!--
              google_ad_client = "ca-pub-5089148546380783";
              /* Insanity Begins */
              google_ad_slot = "4508934025";
              google_ad_width = 300;
              google_ad_height = 250;
              //-->
            </script> <script src=http://pagead2.googlesyndication.com/pagead/show_ads.js type=text/javascript></script></div><a name=sidebar></a><h3>Latest Articles</h3><div class="pure-menu pure-menu-open"><ul class=pure-menu-list><li class=pure-menu-item><a href=/posts/hiring-developers/>What I learnt about hiring<br> <small>During the last year, Affectv has experienced rapid growth. We have doubled the engineering team in the last 8 months. This is a compilation of some of the things I learnt about the hiring process.</small> </a><li class=pure-menu-item><a href=/posts/cookie-mapping-advertising/>Cookie Mapping in Advertising<br> <small>In this article, we will cover the process of cookie mapping (or cookie syncing) and how advertising companies use it to exchange information with websites and advertising platforms to serve relevant advertising to a user.</small> </a><li class=pure-menu-item><a href=/posts/building-url-shortener/>Building a url shortener in 10 mins<br> <small>A 10 minute guide to building your own url shortener i.e. a service that lets you shorten a long url to a shorter url that takes up less number of characters.</small> </a><li class=pure-menu-item><a href=/posts/apache-pig-tutorial/>Apache Pig Tutorial<br> <small>An unofficial Apache Pig tutorial for the beginning and intermediate user which covers the basics of Pig and moves on to the more advanced concepts.</small> </a><li class=pure-menu-item><a href=/posts/summarization/>Summarisation Demo<br> <small>Working demo of a summarization module I wrote a few years ago. This webapp lets you create summaries of large pieces of text.</small> </a><li class=pure-menu-item><a href=/posts/going-textmode/>Going Text-mode<br> <small>I spend a great deal of time working on the Terminal. Here, I list my must-have console applications for email, www browsing, and programming in Linux, Windows and Mac OSX.</small> </a><li class=pure-menu-item><a href=/posts/setting-up-replica-sets-in-mongodb/>Setting up Replica sets in MongoDB<br> <small>A 5-minute guide to setting up replica sets on MongoDB. Covers downloading, installation on various flavours of linux, editing the config file and initiating replica sets!</small> </a><li class=pure-menu-item><a href=/posts/super-quick-find-replace/>Super quick Find &amp; Replace<br> <small>This article explores a number of ways of performing a find/replace and compares the various implementations for different sizes of the find/replace list and input text.</small> </a><li class=pure-menu-item><a href=/posts/set-data-structures-and-implementation/>Set data structures &amp; Implementation<br> <small>Sets are an important concept and extremely useful in various computer science applications. We take a look at some of the ways a set data structure can be implemented.</small> </a><li class=pure-menu-item><a href=/posts/manage-wireless-networks-with-nmcli/>Manage your wireless with nmcli<br> <small>This article shows you how to use the command line tool nmcli to manage your wireless networks. If you prefer cli over gui, go ahead and take a look.</small> </a></ul></div></div></div></div><div class=pure-g><footer class="pure-u-1 pure-u-md-1 pure-u-sm-1">This page and its contents are copyright © 1998 - 2015, <a href>Pravin Paratey</a>. <a href=https://plus.google.com/u/1/116027419623187923256 rel=author>G+</a></footer> <script src=/js/prettify.js></script> <script type=text/javascript>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-263738-3', 'auto');
        ga('require', 'displayfeatures');
        ga('send', 'pageview');

        /* Social buttons */
        $('img.sc').hover (
          function () {
            $(this).attr('src', $(this).attr('src').replace('_dark', '_active'));
          },
          function () {
            $(this).attr('src', $(this).attr('src').replace('_active', '_dark'));
          }
        );

        /* Place this tag after the last +1 button tag. */
        (function() {
          var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
          po.src = 'https://apis.google.com/js/plusone.js';
          var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
        })();
      </script></div><div></div></div>