<!doctype html><html lang=en><meta charset=utf-8><title>Set data structures &amp; Implementation - CTO AdTech, London</title><link href=//yui.yahooapis.com/pure/0.5.0/pure-min.css rel=stylesheet><link href=http://yui.yahooapis.com/pure/0.6.0/grids-responsive-min.css rel=stylesheet><link href=/stylesheet.css rel=stylesheet><link href="//fonts.googleapis.com/css?family=Merriweather:300,300italic,700" rel=stylesheet type=text/css><link href=//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css rel=stylesheet><script src=//ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js></script><meta content="nanoc 4.0.0" name=generator><meta content="width=device-width, initial-scale=1.0" name=viewport><body onload=prettyPrint()><div id=container><div class="pure-menu pure-menu-open pure-menu-horizontal" id=navbar><a class=pure-menu-heading href=/>Pravin Paratey</a><ul class=pure-menu-list><li class=pure-menu-item><a href=/posts>Archives</a><li class=pure-menu-item><a href=https://github.com/pravin>Github</a><li class=pure-menu-item><a href=/about>About</a></ul></div><div id=blurb>Hello, I am an Engineering Manager at Facebook with 13+ years in Ad Technology, Natural Language Processing and Data mining. (<a href=/about>Learn More</a>)</div><div class=pure-g><div class="pure-u-1 pure-u-md-3-4 pure-u-sm-1" id=content><div class=pad><div class=date><time pubdate>June 08, 2011</time> <span class=author>by Pravin Paratey</span></div><article><h1>Set data structures &amp; Implementation</h1><p>Sets are an important mathematical concept. A set can be defined as a collection of distinct elements. In mathematical literature, curly braces are used to denote a set. So, a set S containing the elements 1, 2 and 3 is denoted by S = {1, 2, 3}.<p><img alt="Set illustration" class=pure-img src=/img/posts/sets-1.svg><p>A set supports the following basic operations,<ol><li><strong>Union</strong> - The union of two sets is a set that contains elements from both sets. For instance, given,<ul><li>S<sub>1</sub> = {1, 2, 3} and<li>S<sub>2</sub> = {3, 4, 5}<li>S<sub>1 ∩ 2</sub> = {1, 2, 3, 4, 5}</ul><li><strong>Intersection</strong> - The intersection of two sets is a set that contains elements common to both sets. For instance, given,<ul><li>S<sub>1</sub> = {1, 2, 3} and<li>S<sub>2</sub> = {3, 4, 5}<li>S<sub>1 ∪ 2</sub> = {3}</ul><li><strong>Difference</strong> - The difference of two sets is a set that contains elements from the first set with the elements common to both sets removed. Given,<ul><li>S<sub>1</sub> = {1, 2, 3} and<li>S<sub>2</sub> = {3, 4, 5}<li>S<sub>1 − 2</sub> = {1, 2}</ul></ol><p>We also have the following additional operations,<ol><li><strong>IsMember</strong> - Tells you if an element is a member of the set. It is denoted by the ∈ symbol. So,<ul><li>1 ∈ {1, 2, 3} but<li>4 ∉ {1, 2, 3}</ul></ol><h2 id=implementing-sets>Implementing sets</h2><p>Let’s look at the different ways we can implement the Set data structure and analyse each implementation.<h3 id=bit-vectors>Bit-vectors</h3><p>Bit vectors are an array of bits (x<sub>1</sub>, x<sub>2</sub>, … x<sub>n</sub>) such that x<sub>i</sub> = 1 if i is a member of the set. For example,<p>S<sub>1</sub> = {1, 2, 3} will be represented as <code>11100</code> while<br> S<sub>2</sub> = {3, 4, 5} will be represented as <code>00111</code>.<h4 id=advantages>Advantages</h4><ol><li><code>IsMember()</code>, <code>Add()</code> and <code>Delete()</code> are <code>O(1)</code> operations.<li><code>Union()</code>, <code>Intersection()</code> and <code>Difference()</code> are at most <code>O(N)</code> where <code>N</code> is the size of the universe.<li>For non-sparse sets, bit-vectors can represent the set quite tightly.<li>Bit operations are typically faster.</ol><h4 id=disadvantages>Disadvantages</h4><ol><li>Takes too much memory for large universes.<li>Needs a mapping function for non-integer members.</ol><h3 id=linked-list>Linked-list</h3><p>A linked list implementation keeps a sorted list of elements for every set. This means,<p>S<sub>1</sub> = {1, 2, 3} will be stored as <code>1 -&gt; 2 -&gt; 3</code> while<br> S<sub>2</sub> = {3, 4, 5} will be represented as <code>3 -&gt; 4 -&gt; 5</code>.<h4 id=properties>Properties</h4><ol><li><code>IsMember()</code> is at most <code>O(n)</code> operation where <code>n</code> is the size of the set.<li><code>Union()</code>, <code>Intersection()</code>, <code>Difference()</code>, <code>Add()</code> and <code>Delete()</code> are take at most <code>O(mn)</code> where <code>m</code> is the size of the first set and <code>n</code> is the size of the second set.</ol><h4 id=advantages-1>Advantages</h4><ul><li>For very large universes, this outperforms a Bit-vector implementation.</ul><h4 id=disadvantages-1>Disadvantages</h4><ul><li>Typically the slowest implementation compared to the rest.</ul><h3 id=hashtables>Hashtables</h3><p>A set can also be implemented as a hashmap. The time complexity of the various functions is dependent on the particular implementation of a hashtable.<h4 id=properties-1>Properties</h4><ol><li><code>IsMember()</code> is typically a <code>O(1)</code> operation.<li><code>Add()</code> and <code>Difference()</code> are typically <code>O(n)</code> where <code>n</code> is the size of the second set.<li><code>Union()</code> and <code>Intersection()</code> are typically <code>O(mn)</code> where <code>m</code> is the size of the first set and <code>n</code> is the size of the second one.</ol><h3 id=ordered-trees>Ordered trees</h3><p>Sets can also be implemented as ordered trees. <a href=/posts/binary-heaps-and-priority-queues>Priority Queues</a> are an example of an ordered tree. A Binary search tree implementation of a set would give you the following properties,<h4 id=properties-2>Properties</h4><ol><li><code>IsMember()</code> is an <code>O(log n)</code> operation.<li><code>Add()</code>, <code>Difference()</code>, <code>Union()</code> and <code>Intersection()</code> are <code>O(log n)</code>.</ol><h2 id=applications>Applications</h2><ol><li>Information retrieval - Inverted index.<li>AND &amp; OR queries.</ol></article></div></div><div class="pure-u-1 pure-u-md-1-4 pure-u-sm-1" id=sidebar><div class=pad><div class=share><div class=g-plusone></div></div><a name=contact></a><h3>Get in touch</h3><div style=text-align:center><a href=mailto:pravinp@gmail.com title="Email Pravin"><i class="fa fa-5x fa-envelope-o sc"></i></a> <br> <a href=/pravin_paratey.pub title="PGP public key"><i class="fa fa-key sc"></i></a> <a href=/pravin_paratey.asc title="RSA Fingerprint"><i class="fa fa-barcode sc"></i></a> <br> <a href=https://www.facebook.com/pravin.paratey title=Facebook><i class="fa fa-2x fa-facebook-square sc"></i></a> <a href=https://github.com/pravin title=Github><i class="fa fa-2x fa-github sc"></i></a> <a href=http://twitter.com/pravin title=@pravin><i class="fa fa-2x fa-twitter sc"></i></a> <a href=http://uk.linkedin.com/in/pravinp title="Linked In"><i class="fa fa-2x fa-linkedin sc"></i></a> <a href=https://www.medium.com/@pravin title=Medium><i class="fa fa-2x fa-medium sc"></i></a></div><h3>Advert</h3><div id=advert><script async src=//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script> <ins class=adsbygoogle data-ad-client=ca-pub-5089148546380783 data-ad-slot=4508934025 style=display:inline-block;width:300px;height:250px></ins> <script>
            (adsbygoogle = window.adsbygoogle || []).push({});
            </script></div><a name=sidebar></a><h3>Latest Articles</h3><div class="pure-menu pure-menu-open"><ul class=pure-menu-list><li class=pure-menu-item><a href=/posts/53-what-i-look-for-in-my-hires/>What I look for in my hires<br> <small>In here, I discuss the 7 qualities I look for in my hires - Predictability, Empathy, Autonomy, Adaptability, Growth potential, Ownership and Problem solving.</small> </a><li class=pure-menu-item><a href=/posts/hiring-developers/>What I learnt about hiring<br> <small>During the last year, Affectv has experienced rapid growth. We have doubled the engineering team in the last 8 months. This is a compilation of some of the things I learnt about the hiring process.</small> </a><li class=pure-menu-item><a href=/posts/cookie-mapping-advertising/>Cookie Mapping in Advertising<br> <small>In this article, we will cover the process of cookie mapping (or cookie syncing) and how advertising companies use it to exchange information with websites and advertising platforms to serve relevant advertising to a user.</small> </a><li class=pure-menu-item><a href=/posts/building-url-shortener/>Building a url shortener in 10 mins<br> <small>A 10 minute guide to building your own url shortener i.e. a service that lets you shorten a long url to a shorter url that takes up less number of characters.</small> </a><li class=pure-menu-item><a href=/posts/apache-pig-tutorial/>Apache Pig Tutorial<br> <small>An unofficial Apache Pig tutorial for the beginning and intermediate user which covers the basics of Pig and moves on to the more advanced concepts.</small> </a><li class=pure-menu-item><a href=/posts/summarization/>Summarisation Demo<br> <small>Working demo of a summarization module I wrote a few years ago. This webapp lets you create summaries of large pieces of text.</small> </a><li class=pure-menu-item><a href=/posts/going-textmode/>Going Text-mode<br> <small>I spend a great deal of time working on the Terminal. Here, I list my must-have console applications for email, www browsing, and programming in Linux, Windows and Mac OSX.</small> </a><li class=pure-menu-item><a href=/posts/setting-up-replica-sets-in-mongodb/>Setting up Replica sets in MongoDB<br> <small>A 5-minute guide to setting up replica sets on MongoDB. Covers downloading, installation on various flavours of linux, editing the config file and initiating replica sets!</small> </a><li class=pure-menu-item><a href=/posts/super-quick-find-replace/>Super quick Find &amp; Replace<br> <small>This article explores a number of ways of performing a find/replace and compares the various implementations for different sizes of the find/replace list and input text.</small> </a><li class=pure-menu-item><a href=/posts/set-data-structures-and-implementation/>Set data structures &amp; Implementation<br> <small>Sets are an important concept and extremely useful in various computer science applications. We take a look at some of the ways a set data structure can be implemented.</small> </a></ul></div></div></div></div><div class=pure-g><footer class="pure-u-1 pure-u-md-1 pure-u-sm-1">This page and its contents are copyright © 1998 - 2016, <a href>Pravin Paratey</a>. <a href=https://plus.google.com/u/1/116027419623187923256 rel=author>G+</a></footer> <script src=/js/prettify.js></script> <script type=text/javascript>
	    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

	    ga('create', 'UA-263738-3', 'auto');
	    ga('send', 'pageview');

        /* Social buttons */
        $('img.sc').hover (
          function () {
            $(this).attr('src', $(this).attr('src').replace('_dark', '_active'));
          },
          function () {
            $(this).attr('src', $(this).attr('src').replace('_active', '_dark'));
          }
        );

        /* Place this tag after the last +1 button tag. */
        (function() {
          var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
          po.src = 'https://apis.google.com/js/plusone.js';
          var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
        })();
      </script></div><div></div></div>